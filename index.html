<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì‹œê¸°ì˜ ë¡œë˜ ì¶”ì²œê¸°</title>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Pretendard', sans-serif;
      background: linear-gradient(135deg, #e3f2fd, #f1f8e9);
      text-align: center;
      margin: 0;
      padding: 40px;
    }
    .box {
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      max-width: 700px;
      margin: auto;
    }
    h2 {
      margin-bottom: 20px;
      color: #2e7d32;
    }
    .control-group {
      margin-bottom: 20px;
    }
    .label {
      font-size: 16px;
      margin-right: 10px;
    }
    select, input {
      padding: 8px 12px;
      font-size: 16px;
      border-radius: 5px;
    }
    button {
      background: #388e3c;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 5px;
      margin: 10px 5px;
      cursor: pointer;
    }
    button:hover {
      background: #2e7d32;
    }
    .result-box {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      margin-top: 10px;
    }
    .combo-card {
      background: #fafafa;
      border: 1px solid #c8e6c9;
      border-radius: 10px;
      padding: 10px 15px;
      min-width: 240px;
    }
    .combo-card-title {
      font-weight: bold;
      margin-bottom: 8px;
      color: #333;
    }
    .grade { font-size: 14px; color: #444; margin-top: 5px; }
    .number-ball {
      display: inline-block;
      width: 32px;
      height: 32px;
      line-height: 32px;
      border-radius: 50%;
      font-weight: bold;
      margin: 2px;
      color: white;
    }
    .n1 { background: #2196f3; }   /* 1~10 */
    .n2 { background: #4caf50; }   /* 11~20 */
    .n3 { background: #ffc107; }   /* 21~30 */
    .n4 { background: #ff9800; }   /* 31~40 */
    .n5 { background: #f44336; }   /* 41~45 */
    .hit { box-shadow: 0 0 0 3px #000 inset; background: #000 !important; }
    @media (max-width: 500px) {
      .box { padding: 20px; }
      button { width: 100%; margin-bottom: 10px; }
    }
  </style>
</head>
<body>
  <div class="box">
    <h2>ğŸ¯ ì‹œê¸°ì˜ ì •ë°€ ë¡œë˜ ì¶”ì²œê¸°</h2>
    <div class="control-group">
      <label class="label" for="comboCount">ì¶”ì²œ ì¡°í•© ìˆ˜:</label>
      <select id="comboCount">
        <script>for (let i = 1; i <= 100; i++) document.write(`<option value="${i}">${i} ì¡°í•©</option>`);</script>
      </select>
    </div>
    <div class="control-group">
      <label class="label">ë‹¹ì²¨ë²ˆí˜¸ (ì‰¼í‘œë¡œ êµ¬ë¶„):</label>
      <input id="winningNumbers" placeholder="ì˜ˆ: 7,11,21,30,35,42" size="30">
      <label class="label">ë³´ë„ˆìŠ¤:</label>
      <input id="bonusNumber" type="number" min="1" max="45" style="width:60px">
    </div>
    <button onclick="generateMultiple()">ì¶”ì²œë²ˆí˜¸ ë°›ê¸°</button>
    <button onclick="window.print()">ğŸ–¨ ì¸ì‡„í•˜ê¸°</button>
    <div id="results" class="result-box"></div>
  </div>

  <script>
    const hotBalls = [6, 9, 16, 21, 25, 29, 35, 36, 37, 44];
    const coldBalls = [1, 2, 12, 13, 14, 17, 23, 28, 33, 38];

    function getClassByNumber(n) {
      if (n <= 10) return 'n1';
      if (n <= 20) return 'n2';
      if (n <= 30) return 'n3';
      if (n <= 40) return 'n4';
      return 'n5';
    }

    function countIncluded(target, arr) {
      return arr.filter(n => target.includes(n)).length;
    }

    function countConsecutive(arr) {
      let count = 0;
      for (let i = 1; i < arr.length; i++) {
        if (arr[i] === arr[i - 1] + 1) count++;
      }
      return count;
    }

    function getGrade(combo, winning, bonus) {
      const matched = combo.filter(n => winning.includes(n));
      const hasBonus = combo.includes(bonus);
      const count = matched.length;
      if (count === 6) return { grade: "ğŸ‰ 1ë“±", matched };
      if (count === 5 && hasBonus) return { grade: "ğŸ‰ 2ë“±", matched };
      if (count === 5) return { grade: "ğŸ¥³ 3ë“±", matched };
      if (count === 4) return { grade: "ğŸ‘ 4ë“±", matched };
      if (count === 3) return { grade: "ğŸ˜Š 5ë“±", matched };
      return { grade: "ğŸ˜¢ ê½", matched };
    }

    function generateFilteredLotto() {
      let result = [];
      while (true) {
        let nums = [];
        while (nums.length < 6) {
          let n = Math.floor(Math.random() * 45) + 1;
          if (!nums.includes(n)) nums.push(n);
        }
        nums.sort((a, b) => a - b);

        let hotCount = countIncluded(nums, hotBalls);
        let coldCount = countIncluded(nums, coldBalls);
        let even = nums.filter(n => n % 2 === 0).length;
        let consecutive = countConsecutive(nums);

        if (hotCount >= 2 && hotCount <= 3 && coldCount <= 1 && (even >= 2 && even <= 4) && consecutive <= 1) {
          result = nums;
          break;
        }
      }
      return result;
    }

    function generateMultiple() {
      const count = parseInt(document.getElementById("comboCount").value);
      const winningInput = document.getElementById("winningNumbers").value;
      const bonus = parseInt(document.getElementById("bonusNumber").value);
      const winning = winningInput.split(',').map(s => parseInt(s.trim())).filter(n => !isNaN(n));
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      for (let i = 0; i < count; i++) {
        let nums = generateFilteredLotto();
        let { grade, matched } = getGrade(nums, winning, bonus);

        let card = document.createElement("div");
        card.className = "combo-card";

        let title = document.createElement("div");
        title.className = "combo-card-title";
        title.textContent = `${i + 1}ë²ˆ ì¡°í•©`;

        let numberRow = document.createElement("div");
        nums.forEach(n => {
          let ball = document.createElement("span");
          ball.className = `number-ball ${getClassByNumber(n)} ${matched.includes(n) ? 'hit' : ''}`;
          ball.textContent = n;
          numberRow.appendChild(ball);
        });

        let gradeText = document.createElement("div");
        gradeText.className = "grade";
        gradeText.textContent = `âœ… ${matched.length}ê°œ ë§ìŒ â†’ ${grade}`;

        card.appendChild(title);
        card.appendChild(numberRow);
        card.appendChild(gradeText);
        resultsDiv.appendChild(card);
      }
    }
  </script>
</body>
</html>
